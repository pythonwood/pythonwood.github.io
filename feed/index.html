<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Linux迷+Python粉</title><link>https://pythonwood.github.io/</link><description>人生苦短，我用Python(这里只是blog.pythonwood.com的备份)</description><lastBuildDate>Wed, 05 Dec 2018 15:00:00 +0800</lastBuildDate><item><title>Linux释放磁盘空间——系统日志systemd-journal清理</title><link>https://pythonwood.github.io/2018/12/Linux%E9%87%8A%E6%94%BE%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%E2%80%94%E2%80%94%E7%B3%BB%E7%BB%9F%E6%97%A5%E5%BF%97systemd-journal%E6%B8%85%E7%90%86/</link><description>&lt;h2 id="varlogjournal"&gt;/var/log/journal 目录占用空间很大&lt;a class="headerlink" href="#varlogjournal" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;原因systemd系统通过systemd-journald.service记录日志.&amp;nbsp;默认以二进制写入/var/log/journal/目录中的日志文件，系统安装久了发现磁盘空间逐渐变小。&lt;/p&gt;
&lt;p&gt;ubuntu18.04，&amp;nbsp;centos7等新系统都使用新型系统systemd，就可能需要清理。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;$ du -sh /var/log …&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">pythonwood</dc:creator><pubDate>Wed, 05 Dec 2018 15:00:00 +0800</pubDate><guid isPermaLink="false">tag:pythonwood.github.io,2018-12-05:/2018/12/Linux释放磁盘空间——系统日志systemd-journal清理/</guid><category>linux</category><category>systemd</category><category>journal</category><category>磁盘清理</category></item><item><title>网络检测ping脚本——搬瓦工CN2机房PING测试</title><link>https://pythonwood.github.io/2018/11/%E7%BD%91%E7%BB%9C%E6%A3%80%E6%B5%8Bping%E8%84%9A%E6%9C%AC%E2%80%94%E2%80%94%E6%90%AC%E7%93%A6%E5%B7%A5CN2%E6%9C%BA%E6%88%BFPING%E6%B5%8B%E8%AF%95/</link><description>&lt;h2 id="vps"&gt;项目起源：搬瓦工vps快过期&lt;a class="headerlink" href="#vps" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;为决定是否upgrade到cn2机房，需要先验证&lt;span class="caps"&gt;CN2&lt;/span&gt;机房网络是不是更好。一直没有一个适合自己的ping工具，自己写一个。&lt;/p&gt;
&lt;h3 id="openwrt5ping"&gt;部署在openwrt路由，定时任务每5分钟启动ping一次&lt;a class="headerlink" href="#openwrt5ping" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;脚本兼容新旧版本ping（输出内容不同），使用sh标准达到最大linux兼容。已兼容openwrt。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;# ping 50次，不超过90s，丢包率每字符表示2%，延迟每字符表示10ms
*/5 …&lt;/pre&gt;&lt;/div&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">pythonwood</dc:creator><pubDate>Sun, 25 Nov 2018 20:00:00 +0800</pubDate><guid isPermaLink="false">tag:pythonwood.github.io,2018-11-25:/2018/11/网络检测ping脚本——搬瓦工CN2机房PING测试/</guid><category>网络</category><category>ping</category><category>脚本</category><category>搬瓦工</category></item><item><title>神奇的环境bug导致python3中出现udc开头字符串</title><link>https://pythonwood.github.io/2018/11/%E7%A5%9E%E5%A5%87%E7%9A%84%E7%8E%AF%E5%A2%83bug%E5%AF%BC%E8%87%B4python3%E4%B8%AD%E5%87%BA%E7%8E%B0udc%E5%BC%80%E5%A4%B4%E5%AD%97%E7%AC%A6%E4%B8%B2/</link><description>&lt;h2 id="langzh_cnutf-8langen_usutf-8"&gt;注意：&lt;span class="caps"&gt;LANG&lt;/span&gt;=zh_CN.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8与&lt;span class="caps"&gt;LANG&lt;/span&gt;=en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8不可混淆！&lt;a class="headerlink" href="#langzh_cnutf-8langen_usutf-8" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;LANG&lt;/span&gt;=zh_CN.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8与&lt;span class="caps"&gt;LANG&lt;/span&gt;=en_US.&lt;span class="caps"&gt;UTF&lt;/span&gt;-8有区别&lt;/strong&gt; ，&amp;nbsp;所以不可混淆！想之前在python2时代吃过坑，没想到到了统一unicode的python3 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">pythonwood</dc:creator><pubDate>Wed, 07 Nov 2018 15:30:00 +0800</pubDate><guid isPermaLink="false">tag:pythonwood.github.io,2018-11-07:/2018/11/神奇的环境bug导致python3中出现udc开头字符串/</guid><category>Ubuntu</category><category>linux</category><category>LANG</category><category>环境变量</category><category>python</category></item><item><title>XUbuntu18.04（Bionic河狸）正式发布，系统安装升级记录</title><link>https://pythonwood.github.io/2018/04/XUbuntu18.04%EF%BC%88Bionic%E6%B2%B3%E7%8B%B8%EF%BC%89%E6%AD%A3%E5%BC%8F%E5%8F%91%E5%B8%83%EF%BC%8C%E7%B3%BB%E7%BB%9F%E5%AE%89%E8%A3%85%E5%8D%87%E7%BA%A7%E8%AE%B0%E5%BD%95/</link><description>&lt;p&gt;Ubuntu&amp;nbsp;18.04发布时间是（美国）4月26号，彼时的中国已经是27号，就是今天。我花了一天时间折腾升级旧Ubuntu系统到刚发布的最新版。&lt;/p&gt;
&lt;p&gt;多年使用linux经验已经使得这个过程驾轻就熟，闲庭信步:)。为了不忘记，将有沉淀价值的部分，简要记录一下。&lt;/p&gt;
&lt;h2 id="linuxubuntu"&gt;偶然得知Linux，成为Ubuntu多年用户&lt;a class="headerlink" href="#linuxubuntu" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h2&gt;
&lt;h3 id="ubuntults"&gt;建议：只使用Ubuntu的&lt;span class="caps"&gt;LTS&lt;/span&gt;版本（长期维护 …&lt;/h3&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">pythonwood</dc:creator><pubDate>Fri, 27 Apr 2018 19:00:00 +0800</pubDate><guid isPermaLink="false">tag:pythonwood.github.io,2018-04-27:/2018/04/XUbuntu18.04（Bionic河狸）正式发布，系统安装升级记录/</guid><category>Ubuntu</category><category>18.04</category><category>linux</category><category>系统</category><category>安装</category></item><item><title>实测家庭电器电功率记录——节约用电支持环保</title><link>https://pythonwood.github.io/2018/04/%E5%AE%9E%E6%B5%8B%E5%AE%B6%E5%BA%AD%E7%94%B5%E5%99%A8%E7%94%B5%E5%8A%9F%E7%8E%87%E8%AE%B0%E5%BD%95%E2%80%94%E2%80%94%E8%8A%82%E7%BA%A6%E7%94%A8%E7%94%B5%E6%94%AF%E6%8C%81%E7%8E%AF%E4%BF%9D/</link><description>&lt;p&gt;家用电器经常待机，手机插头不拔，长期旅行不清空冰箱不关总闸，我一直认为浪费电但没有具体量化的认知。最近下决心花36元来记录电器的耗电功率排行。具体就是买了个可以显示耗电快慢的&lt;a href="https://s.click.taobao.com/t?e=m%3D2%26s%3DNYboi0mHsGQcQipKwQzePOeEDrYVVa64K7Vc7tFgwiHjf2vlNIV67rTJ9qRSwRX4jGYPrSmetxGs9V29auOuBOBgn3DwXo5fs9cRaxJdiKw3LnkA3bZiA5IdTsHekIOqQxPkL4fipmEcVFeZKQgm4n%2BucW%2B%2Fygb8cSpj5qSCmbA%3D&amp;amp;pvid=10_120.239.178.83_3183_1524209142036" title="家用电功率计量插座"&gt;家用电功率计量插座&lt;/a&gt;，然后花了些时间测量数据并记录下来。随用随测出结果，十分好用。&lt;/p&gt;
&lt;h3 id="_1"&gt;实测过程&lt;a class="headerlink" href="#_1" title="Permanent link"&gt;&amp;para;&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;img alt="电功率插座显示插头纯消耗功率是0.5W" src="https://pythonwood.github.io/uploads/2018/电功率插座显示插头纯消耗功率是0.5W.jpg" title="电功率插座显示插头纯消耗功率是0.5W"&gt;&lt;/p&gt;
&lt;p&gt;插座本身很小，测试过程非常方便。插上就实时显示电功率，按上下可切换显示电压，频率，时间，功率因素等。&lt;/p&gt;
&lt;p&gt;孔位不多没有关系，可加一个排插测出总电功率就好 …&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">pythonwood</dc:creator><pubDate>Fri, 20 Apr 2018 15:16:00 +0800</pubDate><guid isPermaLink="false">tag:pythonwood.github.io,2018-04-20:/2018/04/实测家庭电器电功率记录——节约用电支持环保/</guid><category>环保</category><category>电器</category><category>节约</category></item></channel></rss>